{"name":"gumshoe","version":"0.2.1","description":"Project type detection library for Node.JS using declarative heuristic predicates","main":"index.js","scripts":{"test":"./node_modules/mocha/bin/mocha -R tap"},"repository":{"type":"git","url":"git://github.com/niallo/gumshoe.git"},"keywords":["project","type","detection","predicate","heuristic"],"author":{"name":"Niall O'Higgins"},"license":"BSD","dependencies":{"step":"0.0.5","async":"~0.1.22","glob":"~3.1.21"},"devDependencies":{"mocha":"~1.3.0","chai":"~1.1.1"},"readme":"Gumshoe\n=======\n\n![Gumshoe picture](http://farm6.staticflickr.com/5201/5328211162_e57dae4d0b_z.jpg)\n\nProject type detection library using declarative heuristic predicates. \n\nSay you have a Git repo on disk, and you want to figure out what kind of\nlanguage it is written in, what framework it uses, etc. With simple heuristics\nsuch as looking for a `package.json` file in the project root, this can be\neasily deduced.\n\nGumshoe makes it easy to specify these heuristics declaritively using predicates:\n\n```javascript\n\n// Detect a node.js project\nvar rules = [\n    {filename:\"package.json\", exists:true, language:\"node.js\"}\n]\n```\n\nMore complicated example:\n\n```javascript\n\n// Detect a node.js project using connect, express or null frameworks\nvar rules = [\n    {filename:\"package.json\", grep:/express/i, language:\"node.js\", framework:\"express\"},\n    {filename:\"package.json\", grep:/connect/i, language:\"node.js\", framework:\"connect\"},\n    {filename:\"package.json\", exists:true, language:\"node.js\", framework:null}\n]\n\n```\n\nRule Structure\n==============\n\nAs shown above, rules are merely objects with some properties. Gumshoe provides a set of special, reserved\nproperty names which are evaluated as predicates:\n\n- `filename`: This is the filename relative to the `baseDir` to look for. Each rule must have a `filename` property or Gumshoe will complain. Value may be a glob as supported by the [node-glob](https://github.com/isaacs/node-glob) library.\n- `grep`: `filename` must exist and content must match the regular expression provided as value to `grep`\n- `exists`: Boolean value. `true` means `filename` must exist, `false` means `filename` must not exist. This does not care what kind of file it is.\n- `jsonKeyExists`: String value. This is the name of a key in the JSON data which must exist in `filename`. Nested keys can be specified using dot notation. For example, \"foo.bar\" would match `{\"foo\":{\"bar\":1}}`.\n\nWhen a rule succeeds and is matched, it is copied with all properties except\nfor the reserved properties. Hence you are free to use any key names you wish\nlike `framework`, `language` or `foobar` - they will be handed back to you in\nthe result object.\n\n\nInstallation\n============\n\nGumshoe is available in NPM. `npm install gumshoe`\n\n\nExample\n=======\n```javascript\n  var gumshoe = require('gumshoe')\n\n  // Use current working dir\n  var baseDir = process.cwd()\n  // Detect a node.js project\n  var rules = [\n      {filename:\"package.json\", exists:true, language:\"node.js\"}\n  ]\n\n  gumshoe.run(baseDir, rules, function(err, res) {\n    if (err) {\n        console.log(\"Detection error: %s\", err)\n        process.exit(1)\n    }\n    console.log(\"Detected language: %s\", res.language)\n  })\n```\n\nTests\n=====\n\nGumshoe comes with tests. To run, simply execute `npm test`.\n\nLicense\n=======\n\nGumshoe is released under a BSD license.\n\nCredits\n=======\n\nPicture of Legoman gumshoe CC-BY David Anderson from http://www.flickr.com/photos/venndiagram/5328211162/\n","readmeFilename":"README.md","_id":"gumshoe@0.2.1","dist":{"shasum":"836d66442bdb9fca429426c28a46bea98dc1a0b6","tarball":"http://registry.npmjs.org/gumshoe/-/gumshoe-0.2.1.tgz"},"_from":"gumshoe@~0.2.1","_npmVersion":"1.2.14","_npmUser":{"name":"niallo","email":"niallo@beyondfog.com"},"maintainers":[{"name":"niallo","email":"niallo@beyondfog.com"}],"directories":{},"_shasum":"836d66442bdb9fca429426c28a46bea98dc1a0b6","_resolved":"https://registry.npmjs.org/gumshoe/-/gumshoe-0.2.1.tgz"}